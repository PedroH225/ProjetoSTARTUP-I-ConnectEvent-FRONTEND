<div class="divBody">
  <h1 class="tagTitulo" id="editarcriar">Criar evento</h1>
  <form class="divFormEbotaoSalvar" (ngSubmit)="onSubmit()" #form="ngForm">
    <div class="divFormInternaDoForm">
      <div class="divColocarEmLinha gap-5">
        <div class="divColunasEsquerdaEdireitaDoForm">
          <label for="titulo">Título</label>
          <input
            class="inputsStyles"
            type="text"
            [(ngModel)]="titulo"
            name="titulo"
            required
          />
          <div id="tituloErro"></div>

          <label for="descricao">Descrição</label>
          <textarea
            class="inputsStyles"
            [(ngModel)]="descricao"
            name="descricao"
            id="descricao"
            required
          ></textarea>
          <div id="descricaoErro"></div>

          <label for="data">Data</label>
          <input
            class="inputsStyles"
            type="date"
            [(ngModel)]="dataString"
            name="data"
            required
          />

          <label for="horario">Horário</label>
          <input
            class="inputsStyles text-center"
            type="text"
            [(ngModel)]="horario"
            name="horario"
            (input)="formatarHorario()"
            (keypress)="permitirApenasNumeros($event)"
            maxlength="5"
            placeholder="HH:MM"
            required
          />

          <label for="tipo">Tipo</label>
          <select
            class="inputsStyles btn btn-outline-primary"
            [(ngModel)]="selectedTipo"
            name="tipo"
            required
          >
            <option value="">Tipo de Evento</option>
            <option *ngFor="let tipo of tipos" [value]="tipo.tipo">
              {{ tipo.tipo }}
            </option>
          </select>
          <label for="tipoTelefone">Contato</label>
          <select
            class="inputsStyles text-center"
            id="tipoTelefone"
            name="tipoTelefone"
            [(ngModel)]="tipoTelefone"
            (change)="onTipoTelefoneChange()"
          >
            <option class="text-center" value="" selected disabled>
              Escolha uma opção
            </option>
            <option class="text-center" value="fixo">Telefone Fixo</option>
            <option class="text-center" value="celular">Celular</option>
          </select>
          <input
            class="inputsStyles text-center"
            type="text"
            [(ngModel)]="telefone"
            name="telefone"
            [placeholder]="
              tipoTelefone === 'celular' ? '(xx) xxxxx-xxxx' : '(xx) xxxx-xxxx'
            "
            required
            (input)="formatarTelefone($event)"
            [maxlength]="getMaxLength()"
            [disabled]="!telefoneHabilitado"
          />
          <!-- Desabilitado até o tipo ser selecionado -->
          <div id="telefoneErro"></div>
        </div>
        <div class="divColunasEsquerdaEdireitaDoForm">
          <label for="livre">Livre +18</label>
          <div class="d-flex gap-2">
            <label>
              <input
                type="radio"
                [(ngModel)]="livre"
                name="livre"
                [value]="true"
                required
              />
              Sim
            </label>
            <label>
              <input
                type="radio"
                [(ngModel)]="livre"
                name="livre"
                [value]="false"
                required
              />
              Não
            </label>
          </div>

          <label for="link">Link</label>
          <input
            class="inputsStyles"
            type="url"
            [(ngModel)]="link"
            name="link"
            required
          />
          <div id="linkErro"></div>

          <label for="local">Local</label>
          <input
            class="inputsStyles"
            type="text"
            [(ngModel)]="local"
            name="local"
            required
          />
          <div id="localErro"></div>

          <label for="estado">Estado</label>
          <select
            class="inputsStyles"
            [(ngModel)]="estado"
            name="estado"
            required
          >
            <option [value]="'SP'">São Paulo</option>
          </select>

          <label for="cidade">Cidade</label>
          <select
            class="inputsStyles btn btn-outline-primary cidade-dropdown"
            [(ngModel)]="selectedCidade"
            name="cidade"
            required
          >
            <option value="">Cidades</option>
            <option *ngFor="let cidade of cidades" [value]="cidade">
              {{ cidade }}
            </option>
          </select>

          <label for="bairro">Bairro</label>
          <input
            class="inputsStyles"
            type="text"
            [(ngModel)]="bairro"
            name="bairro"
            required
          />
          <div id="bairroErro"></div>

          <label for="numero">Número</label>
          <input
            class="inputsStyles"
            type="number"
            [(ngModel)]="numero"
            name="numero"
            required
          />
          <div id="numeroErro"></div>
        </div>
      </div>
      <!-- <label class="mt-5" for="fotos">Escolha as fotos:</label> -->
      <app-image-uploader
        (removerChanged)="removerChanged($event)"
        (imagesChanged)="onImagesChanged($event)"
      ></app-image-uploader>
    </div>
    <button
      class="btn styleBotaoSalvar"
      id="botaoSubmit"
      type="submit"
      [disabled]="!form.valid"
    >
      Salvar
    </button>
  </form>
</div>
